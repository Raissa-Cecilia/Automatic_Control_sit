<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil | Automatic Control</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="perfil.css">
    <link rel="stylesheet" href="/notificacoes.css">
</head>
<body class="d-flex flex-column min-vh-100">

  <!-- Header -->
  <header class="navbar">
    <div class="container-fluid d-flex align-items-center justify-content-between px-3 text-white">
      <div class="d-flex align-items-center">
        <img src="logoo.png" height="50" width="50" alt="Logo">
        <a href="../home-page/Home-Page.html" class="text-decoration-none d-flex align-items-center">
          <h1 class="ms-3 mb-0 d-flex align-items-center">
            <span class="automatic">Automatic</span>
            <span class="control ms-1">Control</span>
          </h1>
        </a>
      </div>
      <div class="d-flex align-items-center gap-3">
        <a href="../suporte/suporte.html" class="btn help-btn text-white text-decoration-none">?</a>
        <div class="notificacao-wrapper">
          <i class="fas fa-bell notification-icon" id="icone-sino"></i>
          <div id="popup-notificacoes">
            <ul id="lista-notificacoes" class="mb-0"></ul>
          </div>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar">
          <span class="fas fa-bars text-white"></span>
        </button>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <div class="offcanvas offcanvas-start text-white" style="background-color: #022859;" tabindex="-1" id="sidebar">
    <div class="offcanvas-body p-0">
      <nav class="nav flex-column text-center py-4">
        <a href="../pesquisa/pesquisa.html" class="nav-link py-4"><i class="fas fa-search fa-2x"></i>
          <div>Pesquisa</div>
        </a>
        <a href="../cadastro/cadastroP.html" class="nav-link py-4"><i class="fas fa-pencil-alt fa-2x"></i>
          <div>Cadastros</div>
        </a>
        <a href="../categoria/categoria.html" class="nav-link py-4"><i class="bi bi-collection fa-2x"></i>
          <div>Categorias</div>
        </a>
        <a href="../grafico/grafico.html" class="nav-link py-4"><i class="fas fa-chart-line fa-2x"></i>
          <div>Gráficos</div>
        </a>
        <a href="../relatorio/relatorio.html" class="nav-link py-4"><i class="fas fa-file-alt fa-2x"></i>
          <div>Relatórios</div>
        </a>
        <a href="..//configuracao/configuracao.html" class="nav-link py-4"><i class="fas fa-cog fa-2x"></i>
          <div>Configuração</div>
        </a>
      </nav>
    </div>
  </div>

  <!-- Conteúdo principal -->
  <main class="flex-fill container py-4">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="profile-container">
          <h2 class="text-center mb-4">Meu Perfil</h2>
          
          <!-- Foto de perfil -->
          <div class="profile-pic-container">
            <img src="https://ui-avatars.com/api/?name=Admin&background=022859&color=fff&size=150" alt="Foto de perfil" class="profile-pic" id="profilePic">
            <div class="change-profile-btn" data-bs-toggle="modal" data-bs-target="#changePhotoModal">
              <i class="fas fa-camera"></i>
            </div>
          </div>
          
          <!-- Informações do usuário -->
          <div class="info-card">
            <h4 class="text-center mb-4">Informações Pessoais</h4>
            
            <div class="row mb-3">
              <div class="col-md-6 mb-3">
                <p class="info-label">Nome</p>
                <p class="info-value" id="userName">Admin</p>
              </div>
              <div class="col-md-6 mb-3">
                <p class="info-label">Email</p>
                <p class="info-value" id="userEmail">admin@empresa.com</p>
              </div>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <p class="info-label">Tipo de Usuário</p>
                <p class="info-value" id="userType">Administrador</p>
              </div>
              <div class="col-md-6 mb-3">
                <p class="info-label">Último Acesso</p>
                <p class="info-value" id="lastAccess">20/06/2025 16:30</p>
              </div>
            </div>
            
            <div class="text-center mt-4">
              <button class="btn btn-edit me-2" data-bs-toggle="modal" data-bs-target="#editProfileModal">
                <i class="fas fa-edit me-1"></i> Editar Perfil
              </button>
              <button class="btn btn-logout" id="logoutBtn">
                <i class="fas fa-sign-out-alt me-1"></i> Sair
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal para trocar foto -->
  <div class="modal fade" id="changePhotoModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Alterar Foto de Perfil</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="text-center mb-3">
            <img src="https://ui-avatars.com/api/?name=Admin&background=022859&color=fff&size=150" alt="Foto atual" class="img-thumbnail mb-3" style="width: 150px; height: 150px;">
            <input type="file" class="form-control" id="profilePhotoInput" accept="image/*">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="savePhotoBtn">Salvar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para editar perfil -->
  <div class="modal fade" id="editProfileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Editar Perfil</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="editProfileForm">
            <div class="mb-3">
              <label for="editName" class="form-label">Nome</label>
              <input type="text" class="form-control" id="editName" value="Admin">
            </div>
            <div class="mb-3">
              <label for="editEmail" class="form-label">Email</label>
              <input type="email" class="form-control" id="editEmail" value="admin@empresa.com">
            </div>
            <div class="mb-3">
              <label for="editPassword" class="form-label">Nova Senha</label>
              <input type="password" class="form-control" id="editPassword" placeholder="Deixe em branco para não alterar">
            </div>
            <div class="mb-3">
              <label for="confirmPassword" class="form-label">Confirmar Nova Senha</label>
              <input type="password" class="form-control" id="confirmPassword">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="saveProfileBtn">Salvar Alterações</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="text-white text-center py-3">
    © 2025 Automatic Control. Todos os direitos reservados.
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  <script src="perfil.js"></script>
  <script src="../notificacoes.js"></script>
</body>
</html>